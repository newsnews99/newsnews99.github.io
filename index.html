<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Federation Sun 2025</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet" />
  <style>
    :root { --ticker-distance: 0px; --ticker-duration: 20s; }
    html, body {
      margin: 0;
      font-family: 'Bebas Neue', sans-serif;
      background: #1e1e1e;
      color: white;
      box-sizing: border-box;
    }
    body {
      padding-left: 10vw;
      padding-right: 10vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .container { width: 100%; max-width: 1200px; margin: 0 auto; }
    img { max-width: 100%; height: auto; display: block; }

    /* Desktop header */
    .banner {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      background: #1e1e1e;
      box-shadow: 0 2px 4px rgba(0,0,0,0.4);
      z-index: 1000;
    }
    .banner-content {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 12px 0;
      gap: 8px;
      box-sizing: border-box;
    }
    .left-section {
      display: flex; align-items: flex-end; justify-content: flex-start; gap: 8px; width: 100%;
    }
    .left-section img.logo { height: 48px; }
    .time-date {
      display: flex; flex-direction: column;
      font-size: 13px; line-height: 1.1;
      justify-content: flex-end; align-items: flex-start;
      height: 48px; margin: 0; text-align: left; transform: translateY(4px);
    }
    .time-date div { text-align: left; width: 100%; }

    .center-section {
      display: flex; justify-content: center;
    }
    .center-section form {
      width: 100%; max-width: 300px;
      display: flex; gap: 6px;
    }
    .center-section input[type="text"] {
      flex: 1; padding: 4px 8px; font-size: 15px;
      border: none; border-radius: 4px; outline: none;
      height: 32px; background: #fff; color: #1e1e1e; box-sizing: border-box;
    }
    .center-section button {
      padding: 0 12px; font-size: 15px;
      background: gold; color: #1e1e1e;
      border: none; border-radius: 4px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      height: 32px; box-sizing: border-box;
    }

    .right-section {
      display: flex; align-items: center; justify-content: flex-end; gap: 8px; width: 100%;
    }
    .right-section a img {
      height: 24px; transition: transform .2s; display: inline-block;
    }
    .right-section a:hover img { transform: scale(1.1); }

    /* Mobile header hidden by default */
    .mobile-header { display: none; }

    /* Footer wrapper border inside width */
    footer {
      background: #1e1e1e; color: white;
      padding: 0; margin-top: 20px; width: 100%;
    }
    .footer-wrapper {
      max-width: 1200px; margin: 0 auto;
      box-sizing: border-box;
      border-top: 1px solid #444;
      padding-top: 20px;
    }

    @media (max-width: 768px) {
      body { padding-left: 0; padding-right: 0; }

      /* Hide desktop grid header */
      .banner-content { display: none; }

      /* Show mobile header */
      .mobile-header {
        display: block;
        max-width: 100vw;
        margin: 0 auto;
        padding: 8px;
        box-sizing: border-box;
      }
      .mobile-header .mobile-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .mobile-header .left-block {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .mobile-header .left-block img.logo {
        height: 38px;
      }
      .mobile-header .icons-section {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .mobile-header .icons-section a img {
        height: 19px;
      }
      .mobile-header .right-block .time-date {
        display: flex; flex-direction: column;
        font-size: 13px; line-height:1.1;
        justify-content: flex-end; align-items: flex-end;
        height: 38px; margin: 0; text-align: right;
      }
      .mobile-header .right-block .time-date div {
        text-align: right; width: 100%;
      }
      .mobile-header .search-block {
        margin-top: 8px; width: 100%;
      }
      .mobile-header .search-block form {
        display: flex; gap: 5px; width: 100%;
      }
      .mobile-header .search-block input[type="text"] {
        flex: 1; height: 28px; padding: 3px 7px; font-size: 14px;
      }
      .mobile-header .search-block button {
        min-width: 70px; height: 28px; font-size: 14px; padding: 0 10px;
      }
    }
  </style>
</head>
<body>
  <div class="banner">
    <!-- Desktop Header -->
    <div class="banner-content">
      <div class="left-section">
        <img src="fedsun_logo_hoz.png" alt="Logo" class="logo" />
        <div class="time-date">
          <div id="current-time">--:-- AEST</div>
          <div id="current-date">--/--/----</div>
        </div>
      </div>
      <div class="center-section">
        <form id="search-form" action="https://www.google.com/search" method="GET" target="_blank" autocomplete="off">
          <input type="text" id="search-input" name="q" placeholder="Search..." />
          <button type="submit">Search</button>
        </form>
      </div>
      <div class="right-section">
        <a href="https://gab.com/federationsun" target="_blank" rel="noopener"><img src="icon_gab.png" alt="Gab" /></a>
        <a href="https://www.facebook.com/people/Federation-Sun/61577319796033/" target="_blank" rel="noopener"><img src="icon_facebook.png" alt="Facebook" /></a>
        <a href="https://www.instagram.com/fedsun.news/" target="_blank" rel="noopener"><img src="icon_instagram.png" alt="Instagram" /></a>
        <a href="https://t.me/federationsun" target="_blank" rel="noopener"><img src="icon_telegram.png" alt="Telegram" /></a>
        <a href="https://x.com/federationsun" target="_blank" rel="noopener"><img src="icon_x.png" alt="X" /></a>
        <a href="https://www.youtube.com/channel/UCe8DBHr28mOCBxtZuxzJ7_A" target="_blank" rel="noopener"><img src="icon_youtube.png" alt="YouTube" /></a>
      </div>
    </div>

    <!-- Mobile Header -->
    <div class="mobile-header">
      <div class="mobile-top">
        <div class="left-block">
          <img src="fedsun_logo_hoz.png" alt="Logo" class="logo" />
          <div class="icons-section">
            <a href="https://gab.com/federationsun" target="_blank" rel="noopener"><img src="icon_gab.png" alt="Gab" /></a>
            <a href="https://www.facebook.com/people/Federation-Sun/61577319796033/" target="_blank" rel="noopener"><img src="icon_facebook.png" alt="Facebook" /></a>
            <a href="https://www.instagram.com/fedsun.news/" target="_blank" rel="noopener"><img src="icon_instagram.png" alt="Instagram" /></a>
            <a href="https://t.me/federationsun" target="_blank" rel="noopener"><img src="icon_telegram.png" alt="Telegram" /></a>
            <a href="https://x.com/federationsun" target="_blank" rel="noopener"><img src="icon_x.png" alt="X" /></a>
            <a href="https://www.youtube.com/channel/UCe8DBHr28mOCBxtZuxzJ7_A" target="_blank" rel="noopener"><img src="icon_youtube.png" alt="YouTube" /></a>
          </div>
        </div>
        <div class="right-block">
          <div class="time-date">
            <div id="current-time">--:-- AEST</div>
            <div id="current-date">--/--/----</div>
          </div>
        </div>
      </div>
      <div class="search-block">
        <form id="search-form-mobile" action="https://www.google.com/search" method="GET" target="_blank" autocomplete="off">
          <input type="text" id="search-input-mobile" name="q" placeholder="Search..." />
          <button type="submit">Search</button>
        </form>
      </div>
    </div>

    <!-- Ticker -->
    <div class="ticker">
      <div class="ticker-inner" id="ticker-inner">
        <div class="ticker-track" id="ticker-track">Loading headlines…</div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="main-headline-container">
      <div class="headline-left">
        <img src="1st.jpg" alt="Main Headline" class="main-headline-img" />
        <a href="#" class="main-headline-link">WEBSITE UNDER CONSTRUCTION</a>
        <div class="headline-columns">
          <div class="column">
            <a href="#" class="latest-title">Latest</a>
            <a href="#">HEADLINE 1</a>
            <a href="#">HEADLINE 2</a>
            <a href="#">HEADLINE 3</a>
          </div>
          <div class="column">
            <a href="#" class="latest-title">Latest</a>
            <a href="#">HEADLINE 4</a>
            <a href="#">HEADLINE 5</a>
            <a href="#">HEADLINE 6</a>
          </div>
        </div>
      </div>
      <div class="headline-right">
        <div class="column">
          <a href="#" class="latest-title">Latest</a>
          <a href="#">HEADLINE 7</a>
          <a href="#">HEADLINE 8</a>
          <a href="#">HEADLINE 9</a>
        </div>
        <div class="column">
          <a href="#" class="latest-title">Latest</a>
          <a href="#">HEADLINE 10</a>
          <a href="#">HEADLINE 11</a>
          <a href="#">HEADLINE 12</a>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="footer-wrapper">
      <div class="footer-content">
        <div class="footer-section left">
          <img src="australian_flag.png" alt="Australian Flag" />
          <p>
            The Federation Sun proudly honours the European Australians who built this nation—taming the land, founding our cities, and instilling the traditions and institutions of Western civilisation that shaped Australia. We stand firm in our heritage and look ahead with unity and purpose to secure a strong future for our people.
          </p>
        </div>
        <div class="footer-section center">
          <img src="fedsun__logo_footer.png" alt="Federation Sun Logo" />
          <p>
            For all enquiries contact:<br />
            <a href="mailto:editor@fedsun.news" style="color:white;">editor@fedsun.news</a>
          </p>
          <p>The Federation Sun © 2025</p>
        </div>
        <div class="footer-section right">
          <h3>Anonymous tips</h3>
          <form action="https://formspree.io/f/meokpdkj" method="POST">
            <textarea name="tip" placeholder="Type your tip here..."></textarea>
            <input type="hidden" name="_redirect" value="https://fedsun.news/thanks.html" />
            <button type="submit">Send tip</button>
          </form>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // 1) Clock updates both headers
    function updateTime(){
      const now = new Date();
      const fmtOpts = { timeZone:'Australia/Melbourne', hour:'2-digit', minute:'2-digit', hour12:false };
      const dateOpts = { timeZone:'Australia/Melbourne', weekday:'short', year:'numeric', month:'2-digit', day:'2-digit' };
      const melTime = new Intl.DateTimeFormat('en-AU', fmtOpts).format(now);
      const melDate = new Intl.DateTimeFormat('en-AU', dateOpts).format(now);
      document.querySelectorAll('#current-time').forEach(e=>e.textContent = melTime + ' AEST');
      document.querySelectorAll('#current-date').forEach(e=>e.textContent = melDate);
    }
    updateTime();
    setInterval(updateTime, 60000);

    // 2) Body padding for fixed header
    function adjustBodyPadding(){
      const b = document.querySelector('.banner');
      if(b) document.body.style.paddingTop = b.offsetHeight + 'px';
    }
    window.addEventListener('load', adjustBodyPadding);
    window.addEventListener('resize', adjustBodyPadding);

    // 3) Ticker
    fetch('/headlines.json')
      .then(r=>r.json()).then(data=>{
        const track = document.getElementById('ticker-track');
        track.innerHTML = '';
        const group = document.createElement('div');
        group.className = 'ticker-group';
        data.forEach(item=>{
          const a = document.createElement('a');
          a.href = item.url;
          a.textContent = item.title;
          group.appendChild(a);
        });
        track.appendChild(group);
        track.appendChild(group.cloneNode(true));
        const d = group.offsetWidth, s = 20, dur = d/s;
        document.documentElement.style.setProperty('--ticker-distance', d+'px');
        document.documentElement.style.setProperty('--ticker-duration', dur+'s');
      })
      .catch(_=>document.getElementById('ticker-track').textContent='Failed to load headlines.');

    // 4) Site-search for both forms
    ['search-form','search-form-mobile'].forEach(id=>{
      document.getElementById(id).addEventListener('submit', e=>{
        const inp = e.target.querySelector('input[name="q"]');
        inp.value = 'site:fedsun.news ' + inp.value;
      });
    });
  </script>
</body>
</html>
